<div class="modal" ng-controller="FlowableConditionExpressionPopupCtrl">
<div class="modal-dialog modal-wide">
<div class="modal-content">
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="close()">&times;</button>
    <h2 translate>PROPERTY.SEQUENCEFLOW.CONDITION.TITLE</h2>
</div>
<div class="modal-body">

    <div class="detail-group clearfix">
        <div style="border-bottom: 1px solid #ccc;margin-bottom: 20px">
            <span class="tab" ng-class="{active:currentIndex === 0}" ng-click="selectTab(0)">同意</span>
            <span class="tab" ng-class="{active:currentIndex === 1}" ng-click="selectTab(1)">自定义</span>
        </div>

        <div ng-if="currentIndex === 0">
            <div class="col-xs-12">
                <label class="col-xs-3">{{'PROPERTY.SEQUENCEFLOW.CONDITION.STATIC' | translate}}</label>
                <div class="col-xs-9">
                    <label><input name="condition" type="radio" value="无" ng-checked="true"
                                  ng-model="$parent.expression.staticValue"/>无 </label>
                    <label><input name="condition" type="radio" value="同意" ng-model="$parent.expression.staticValue"/>同意
                    </label>
                    <label><input name="condition" type="radio" value="驳回" ng-model="$parent.expression.staticValue"/>驳回
                    </label>
                </div>
            </div>
        </div>
        <div ng-if="currentIndex === 1">
            <div class="col-xs-12">
                <div class="col-xs-2">
                    <input onkeyup="value=value.replace(/[^\d]/g,'')" placeholder="请输入左侧属性值" class="diy-input"
                           ng-model="$parent.personalExpression.leftValue"/>
                </div>

                <div class="col-xs-2">
                    <select class="form-control" ng-model="$parent.personalExpression.leftSymbol">
                        <option ng-selected="!$parent.personalExpression.leftSymbol" value='' disabled
                                style='display:none;color:#ccc'>请选择左侧符号
                        </option>
                        <option ng-value="x.id" ng-repeat="x in symbolOptions">{{x.id}}</option>
                    </select>
                </div>


                <div class="col-xs-4">
                    <select class="form-control" ng-model="$parent.personalExpression.field">
                        <option ng-selected="!$parent.personalExpression.field" value='' disabled
                                style='display:none;color:#ccc'>请选择属性值
                        </option>
                        <option ng-selected="$parent.personalExpression.field == y.id" ng-value="y.id"
                                ng-repeat="y in flowOptions">{{y.label}}
                        </option>
                    </select>
                </div>

                <div class="col-xs-2">
                    <select class="form-control" ng-model="$parent.personalExpression.rightSymbol">
                        <option ng-selected="!$parent.personalExpression.rightSymbol" value='' disabled
                                style='display:none;color:#ccc'>请选择右侧符号
                        </option>
                        <option ng-value="x.id" ng-repeat="x in symbolOptions">{{x.id}}</option>
                    </select>
                </div>

                <div class="col-xs-2">
                    <input onkeyup="value=value.replace(/[^\d]/g,'')" placeholder="请输入右侧属性值" class="diy-input"
                           ng-model="$parent.personalExpression.rightValue"/>
                </div>

            </div>
        </div>


    </div>
    <div class="modal-footer">
        <button ng-click="close()" class="btn btn-default" translate>ACTION.CANCEL</button>

        <button ng-if="currentIndex === 1" ng-click="reset()" class="btn btn-warning">重置</button>

        <button ng-click="save()" class="btn btn-primary" translate>ACTION.SAVE</button>
    </div>
</div>
</div>
</div>
</div>

<style>
    .tab {
        display: inline-block;
        width: 60px;
        text-align: center;
        height: 40px;
        line-height: 40px;
        margin-right: 20px;
    }

    .active {
        color: #a4080b;
        font-weight: bold;
        border-bottom: 4px solid #a4080b;
    }

    .diy-input {
        height: 34px;
        border: 1px solid #ccc;
    }


</style>
